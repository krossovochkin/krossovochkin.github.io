<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Boolean not :: Krossovochkin — Android Developer</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta name="description" content="Introduction Boolean is one of the essential types in programming and probably one of the simplest because it has only two values: true and false. Boolean are usually used as flags for control flow, specifically, conditions.
if (string.isEmpty()) {println(&amp;#34;String is empty&amp;#34;)}It is not much interesting in Boolean, but in Kotlin there is one thing which might be confusing if used - it is method not().
Negate Boolean If we look at declaration of Boolean class in Kotlin we&amp;rsquo;ll see five methods, four of which are pretty obvious: and, or, xor and compareTo." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="https://krossovochkin.github.io/posts/2020_10_31_boolean_not/" />




<link rel="stylesheet" href="https://krossovochkin.github.io/assets/style.css">

  <link rel="stylesheet" href="https://krossovochkin.github.io/assets/yellow.css">






<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://krossovochkin.github.io/img/apple-touch-icon-144-precomposed.png">

  <link rel="shortcut icon" href="https://krossovochkin.github.io/img/favicon/yellow.png">



<meta name="twitter:card" content="summary" />

  <meta name="twitter:site" content="krossovochkin" />

<meta name="twitter:creator" content="krossovochkin" />


<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Boolean not :: Krossovochkin">
<meta property="og:description" content="Introduction Boolean is one of the essential types in programming and probably one of the simplest because it has only two values: true and false. Boolean are usually used as flags for control flow, specifically, conditions.
if (string.isEmpty()) {println(&amp;#34;String is empty&amp;#34;)}It is not much interesting in Boolean, but in Kotlin there is one thing which might be confusing if used - it is method not().
Negate Boolean If we look at declaration of Boolean class in Kotlin we&amp;rsquo;ll see five methods, four of which are pretty obvious: and, or, xor and compareTo." />
<meta property="og:url" content="https://krossovochkin.github.io/posts/2020_10_31_boolean_not/" />
<meta property="og:site_name" content="Boolean not" />

  <meta property="og:image" content="https://krossovochkin.github.io/">

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">


  <meta property="article:published_time" content="2020-10-31 00:00:00 &#43;0000 UTC" />












</head>
<body class="">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/">
  <div class="logo">
    Krossovochkin
  </div>
</a>

    </div>
    <div class="menu-trigger">menu</div>
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About me</a></li>
        
      
        
          <li><a href="/">Posts</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About me</a></li>
      
    
      
        <li><a href="/">Posts</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="https://krossovochkin.github.io/posts/2020_10_31_boolean_not/">Boolean not</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2020-10-31 
      </span>
    
    
    <span class="post-author">::
      Vasya Drobushkov
    </span>
    
  </div>

  
  <span class="post-tags">
    
    #<a href="https://krossovochkin.github.io/tags/kotlin/">kotlin</a>&nbsp;
    
  </span>
  

  

  

  <div class="post-content"><div>
        <h3 id="introduction">Introduction<a href="#introduction" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Boolean is one of the essential types in programming and probably one of the simplest because it has only two values: true and false. Boolean are usually used as flags for control flow, specifically, conditions.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">if</span> (string.isEmpty()) {
	println(<span style="color:#e6db74">&#34;String is empty&#34;</span>)
}
</code></pre></div><p>It is not much interesting in Boolean, but in Kotlin there is one thing which might be confusing if used - it is method <code>not()</code>.</p>
<h3 id="negate-boolean">Negate Boolean<a href="#negate-boolean" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>If we look at declaration of Boolean class in Kotlin we&rsquo;ll see five methods, four of which are pretty obvious: <code>and</code>, <code>or</code>, <code>xor</code> and <code>compareTo</code>. And the fifth is <code>not</code>:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Boolean</span> <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">constructor</span>() : Comparable&lt;Boolean&gt; {
    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * Returns the inverse of this boolean.
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">not</span>(): Boolean
</code></pre></div><p>So, each Boolean has function <code>not</code>, it looks like a normal function, so it is so tempting to call it?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">if</span> (string.isEmpty().not()) {
	println(<span style="color:#e6db74">&#34;String is not empty&#34;</span>)
}
</code></pre></div><p>This is a valid code, it works correctly, it uses function declared in the <code>Boolean</code> class. Good enough? Not really. The readability of such a construction is weird because it is not fluent. We don&rsquo;t say &ldquo;do something when string is empty not&rdquo; (might be tempting to say that it is some German-style, though it is not entirely correct as well).</p>
<p>What other options do we have:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">!string.isEmpty()
</code></pre></div><p>A pretty common way to negate boolean in programming languages. It doesn&rsquo;t feel that fluent as well. After all, we don&rsquo;t say &ldquo;do something when not string is empty&rdquo;, though it feels anyway better because we at the beginning have information of negation and don&rsquo;t have to look through the whole line to see inversion.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">string.isNotEmpty()
</code></pre></div><p>The best option - it says what it should: &ldquo;do something when string is not empty&rdquo;. Cool. Though such extensions are not available for every case, and most likely you should not try to create such for all the cases.</p>
<p>Such methods are good for some low-level simple cases like <code>email.isNotValid()</code> when a negative form is primary business logic and used this way most of the time. But in general, it is better to name functions positively, so there is less confusion with negation. If you wish you can add a negative function, but it should be additional and not primary.<br>
Say, you have class <code>Connection</code> and you&rsquo;d like to check whether the connection is established or not. You can create <code>Connection.isNotEstablished()</code> function, but if you do, you have to add <code>Connection.isEstablished()</code> as well, otherwise, it might be the situation, when you&rsquo;d want to do something like: <code>!connection.isNotEstablished()</code>, which is for sure confusing.</p>
<h3 id="why-not">Why <code>not</code>?<a href="#why-not" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>As seen before the best option is to have information about negation in the middle of the name, then in the beginning, and only then at the end (this might be my personal preference, but I guess it is a common thing). Then why method <code>not()</code> was added to <code>Boolean</code> if one not meant to use it?</p>
<p>The main reason is that <code>not()</code> is not just a function - it is an <a href="https://kotlinlang.org/docs/reference/operator-overloading.html">operator</a>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">not</span>(): Boolean
</code></pre></div><p>Operator functions are special functions that allow operator overloading. That means that adding <code>not</code> operator function to any class (even via extension function) allows you to use <code>!</code> syntax. Therefore <code>not</code> function allows you to put <code>!</code> before boolean value for negation.</p>
<p>We can (though there is no need to) create our boolean implementation with implemented <code>not</code> operator function:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">enum</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyBoolean</span> {
    True,
    False
    ;
    <span style="color:#66d9ef">operator</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">not</span>(): MyBoolean {
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">when</span> (<span style="color:#66d9ef">this</span>) {
            True -&gt; False
            False -&gt; True
        }
    }
}
</code></pre></div><p>That will allow us to write:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">val</span> result = !MyBoolean.True
</code></pre></div><blockquote>
<p>Operator function <code>not</code> allows you to write <code>!</code> before expression. Function <code>not</code> is not something that is expected to be used directly, as it doesn&rsquo;t improve readability and has no other advantages.</p>
</blockquote>
<h3 id="where-not">Where <code>not</code>?<a href="#where-not" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>There is one additional point where <code>not</code> can be used. The operator function is a function. And in Kotlin functions are first-class citizens. With higher-order functions, it is possible to pass a function to another function as an argument. It might be lambda or function reference. There is no difference in a bytecode, but upon agreement in a team, it might be possible to use one or another.</p>
<p>Say, we have a list of boolean values and we&rsquo;d like to invert them. Doing it in a functional style we might do it with a lambda:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">listOf(<span style="color:#66d9ef">true</span>, <span style="color:#66d9ef">false</span>, <span style="color:#66d9ef">true</span>)
	.map { !it }
</code></pre></div><p>Or with function reference:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">listOf(<span style="color:#66d9ef">true</span>, <span style="color:#66d9ef">false</span>, <span style="color:#66d9ef">true</span>)
	.map(Boolean<span style="color:#f92672">::</span>not)
</code></pre></div><p>The result will be the same and I wouldn&rsquo;t say that one option is for sure better than the other. What I wanted to point out is that here we might use a reference to our <code>Boolean.not</code> method. This might be a useful option for that method usage.</p>
<blockquote>
<p>Writing code in a functional style it might be possible to use <code>Boolean.not</code> function as a reference to other methods.</p>
</blockquote>
<h3 id="conclusion">Conclusion<a href="#conclusion" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>I hope now we have a better understanding of why <code>not</code> function is declared in <code>Boolean</code> class, what &ldquo;syntax sugar&rdquo; it enables, and how it might be somewhat useful in functional programming.<br>
Besides this, I highly discourage direct usage of the <code>not</code> function in a normal control flow. Don&rsquo;t write <code>shouldApplyFilter.not()</code>. It doesn&rsquo;t provide you any readability gains and doesn&rsquo;t make your code better.</p>
<p>Happy coding.</p>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        
        <span class="button next">
            <a href="https://krossovochkin.github.io/posts/2020_10_28_middle_point/">
                <span class="button__text">Middle Point</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">
        <span>© 2020 Vasya Drobushkov</span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
  <div class="footer__inner">
    <div class="copyright copyright--user">
      <a href="https://www.facebook.com/vasya.drobushkov">Facebook</a><a href="https://twitter.com/krossovochkin">Twitter</a>
    </div>
  </div>
</footer>

<script src="https://krossovochkin.github.io/assets/main.js"></script>
<script src="https://krossovochkin.github.io/assets/prism.js"></script>





  
</div>

</body>
</html>
